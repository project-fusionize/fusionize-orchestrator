name: test
nodes:
  start:
    type: START
    component: start:test.receivedIncomingEmail
    componentConfig:
      address: incoming@email.com
    next: [emailDecision]

  emailDecision:
    type: DECISION
    component: decision:test.emailDecision
    componentConfig:
      routeMap:
        route 1: outgoing1
        route 2: outgoing2
    next: [outgoing1, outgoing2]

  outgoing1:
    type: TASK
    component: task:test.sendEmail
    componentConfig:
      address: outgoing1@email.com
    next: [end1]

  end1:
    type: END
    component: end:test.endEmailWorkflow
    next: []

  outgoing2:
    type: TASK
    component: task:test.sendEmail
    componentConfig:
      address: outgoing2@email.com
    next: [end2]

  end2:
    type: END
    component: end:test.endEmailWorkflow
    next: []
